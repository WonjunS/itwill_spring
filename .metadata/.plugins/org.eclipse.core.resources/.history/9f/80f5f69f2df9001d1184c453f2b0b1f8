/**
 * reply.js
 * 댓글 등록, 목록 검색, 수정, 삭제
 * /post/detail.jsp에 포함
 */

document.addEventListener('DOMContentLoaded', () => {
    // 부트스트랩 Collapse 객체를 생성 - 초기 상태는 화면에서 안보이는 상태
    const bsCollapse = new bootstrap.Collapse('div#replyToggleDiv', {toggle: false});
    
    const btnToggleReply = document.querySelector('button#btnToggleReply');
    btnToggleReply.addEventListener('click', () => {
        bsCollapse.toggle();
        const toggle = btnToggleReply.getAttribute('data-toggle');
        if(toggle === 'toggle-off') {
            btnToggleReply.innerHTML = '숨기기';
            btnToggleReply.setAttribute('data-toggle', 'toggle-on');
        } else {
            btnToggleReply.innerHTML = '보이기';
            btnToggleReply.setAttribute('data-toggle', 'toggle-off');
        }
    });
    
    const btnAddReply = document.querySelector('button#btnAddReply');
    const createReply = (e) => {
        const data = {
            postId: 100,
            replyText: '댓글 등록 테스트',
            writer: 'admin'
        };
        
        axios.post('/spring2/api/reply', data)
            .then((response) => {
                console.log(response);
            }) // 성공 응답이 왔을 때 실행 할 콜백 함수 등록
            .catch((error) => {
                console.log(error);
            }); // 실패 응답이 왔을 때 실행할 콜백 함수 등록
    }
    btnAddReply.addEventListener('click', () => {
         
    });
});